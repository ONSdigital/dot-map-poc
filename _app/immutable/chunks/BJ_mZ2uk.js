//js
import{y as Z,h as O,a as z,E as V,z as J,H as K,A as Q,B as W,C as X,D as q,F as m,G as p,I as y,U as j,J as k,K as x,L as ee,d as D,M as ae,S as $,o as B,N as F,g as b,O as re,P as se,Q as G,R as ie,T as ne,V as fe,i as M,W as ue,X as te,Y as le,Z as ce,_ as _e,$ as ve,w as de,a0 as be,a1 as oe,a2 as Ie,a3 as Se}from"./Bu758CnY.js";import{s as ge,g as Ee}from"./BTAfcSxT.js";function Re(e,a,[s,r]=[0,0]){O&&s===0&&z();var f=e,i=null,u=null,o=j,g=s>0?V:0,c=!1;const R=(t,_=!0)=>{c=!0,d(_,t)},d=(t,_)=>{if(o===(o=t))return;let I=!1;if(O&&r!==-1){if(s===0){const l=J(f);l===K?r=0:l===Q?r=1/0:(r=parseInt(l.substring(1)),r!==r&&(r=o?1/0:-1))}const E=r>s;!!o===E&&(f=W(),X(f),q(!1),I=!0,r=-1)}o?(i?m(i):_&&(i=p(()=>_(f))),u&&y(u,()=>{u=null})):(u?m(u):_&&(u=p(()=>_(f,[s+1,r]))),i&&y(i,()=>{i=null})),I&&q(!0)};Z(()=>{c=!1,a(R),c||d(null,null)},g),O&&(f=k)}function w(e,a){return e===a||(e==null?void 0:e[$])===a}function he(e={},a,s,r){return x(()=>{var f,i;return ee(()=>{f=i,i=[],D(()=>{e!==s(...i)&&(a(e,...i),f&&w(s(...f),e)&&a(null,...f))})}),()=>{ae(()=>{i&&w(s(...i),e)&&a(null,...i)})}}),e}let A=!1,L=Symbol();function Ne(e,a,s){const r=s[a]??(s[a]={store:null,source:F(void 0),unsubscribe:B});if(r.store!==e&&!(L in s))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=B;else{var f=!0;r.unsubscribe=ge(e,i=>{f?r.source.v=i:G(r.source,i)}),f=!1}return e&&L in s?Ee(e):b(r.source)}function Oe(){const e={};function a(){re(()=>{for(var s in e)e[s].unsubscribe();se(e,L,{enumerable:!1,value:!0})})}return[e,a]}function Pe(e){var a=A;try{return A=!1,[e(),A]}finally{A=a}}function C(e){var a;return((a=e.ctx)==null?void 0:a.d)??!1}function De(e,a,s,r){var Y;var f=(s&oe)!==0,i=!de||(s&be)!==0,u=(s&_e)!==0,o=(s&Ie)!==0,g=!1,c;u?[c,g]=Pe(()=>e[a]):c=e[a];var R=$ in e||ve in e,d=u&&(((Y=ie(e,a))==null?void 0:Y.set)??(R&&a in e&&(n=>e[a]=n)))||void 0,t=r,_=!0,I=!1,E=()=>(I=!0,_&&(_=!1,o?t=D(r):t=r),t);c===void 0&&r!==void 0&&(d&&i&&ne(),c=E(),d&&d(c));var l;if(i)l=()=>{var n=e[a];return n===void 0?E():(_=!0,I=!1,n)};else{var U=(f?M:ue)(()=>e[a]);U.f|=fe,l=()=>{var n=b(U);return n!==void 0&&(t=void 0),n===void 0?t:n}}if(!(s&te)&&i)return l;if(d){var H=e.$$legacy;return function(n,S){return arguments.length>0?((!i||!S||H||g)&&d(S?l():n),n):l()}}var P=!1,h=!1,T=F(c),v=M(()=>{var n=l(),S=b(T);return P?(P=!1,h=!0,S):(h=!1,T.v=n)});return u&&b(v),f||(v.equals=le),function(n,S){if(Se!==null&&(P=h,l(),b(T)),arguments.length>0){const N=S?b(v):i&&u?ce(n):n;if(!v.equals(N)){if(P=!0,G(T,N),I&&t!==void 0&&(t=N),C(v))return n;D(()=>b(v))}return n}return C(v)?v.v:b(v)}}export{Oe as a,he as b,Re as i,De as p,Ne as s};
